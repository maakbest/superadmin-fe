import{j as e,t as b,u as f,r as i,b as g,v as y,w as c,x as A,A as j,y as w}from"./index-f6f8d119.js";import{o as N,c as E,a as d}from"./yup-d03041f0.js";import{A as C}from"./AuthLayout-4a786488.js";import{A as $}from"./AuthContainer-73fa3f64.js";import{V as I}from"./VerticalForm-5514db80.js";import{F as p}from"./FormInput-55151560.js";import"./index.esm-27031aba.js";import"./logo-a6262d54.js";import"./logo-dark-95f90042.js";function L({isVisible:o,variant:s="primary",isBG:l=!0,message:u,className:n="",onclose:t}){if(!o)return null;const a=l?`border-0 text-white bg-${s}`:`bg-${s}/10 text-${s} border border-${s}/20`;return e.jsxs("div",{className:`${a} rounded-md py-3 px-5 flex justify-between items-center ${n} fixed top-[50px] left-1/2 -translate-x-1/2 w-1/2 cursor-pointer z-[999]`,id:"test-alert",children:[e.jsx("p",{children:u||"A simple alert â€” check it out!"}),e.jsx("button",{className:"text-xl/[0] hover:opacity-70",onClick:t,children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}const U=()=>{const o=b(),s=f();i.useState(!1);const{user:l,userLoggedIn:u,loading:n,error:t}=g(r=>({user:r.Auth.user,loading:r.Auth.loading,error:r.Auth.error,userLoggedIn:r.Auth.userLoggedIn})),a=y(),m=a==null?void 0:a.token;i.useEffect(()=>{s(c())},[c]);const x=N(E().shape({username:d().required("Please enter Email"),password:d().required("Please enter Password")})),h=r=>{s(w(r.username,r.password))};return i.useEffect(()=>{m&&o("/",{replace:!0})},[m,o]),e.jsxs($,{children:[t&&e.jsx(L,{isVisible:t,variant:"danger",message:t,onclose:()=>s(A(j.LOGIN_USER,""))}),e.jsx(C,{authTitle:"Sign In",helpText:"Enter your email address and password to access admin panel.",children:e.jsxs(I,{onSubmit:h,resolver:x,children:[e.jsx(p,{label:"Email Address",type:"email",name:"username",className:"form-input",placeholder:"Enter your email",containerClass:"mb-6 space-y-2",labelClassName:"font-semibold text-gray-500",required:!0}),e.jsx(p,{label:"Password",type:"password",name:"password",placeholder:"Enter your password",className:"form-input rounded-e-none",containerClass:"mb-6 space-y-2",labelClassName:"font-semibold text-gray-500",labelContainerClassName:"flex justify-between items-center mb-2",required:!0}),e.jsx("div",{className:"text-center mb-6",children:e.jsx("button",{className:"btn bg-primary text-white",type:"submit",disabled:n,children:"Log In"})})]})})]})};export{U as default};
