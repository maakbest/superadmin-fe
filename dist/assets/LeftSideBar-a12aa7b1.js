import{r as d,j as s,f as U,R as b,L,u as F,b as $,c as B,S as E}from"./index-f6f8d119.js";import{S as P}from"./index-0971ab29.js";import"./index-53bfd0e7.js";import{L as w}from"./LogoBox-9db6a2f2.js";import"./throttle-509388b9.js";import"./logo-a6262d54.js";import"./logo-dark-95f90042.js";const H=[{key:"apps-calendar",label:"Users",isTitle:!1,icon:"ri-user-3-line",url:"/"},{key:"apps-calendar",label:"Rewards",isTitle:!1,icon:"ri-gift-line",url:"/rewards"}],O=()=>H,y=(e,l)=>{let a=[];const n=T(e,l.parentKey);return n&&(a.push(n.key),n.parentKey&&(a=[...a,...y(e,n)])),a},T=(e,l)=>{if(e&&l)for(let a=0;a<e.length;a++){if(e[a].key===l)return e[a];const n=T(e[a].children,l);if(n)return n}return null},D=({open:e,children:l,classNames:a,as:n="div"})=>{var r;const i=d.useRef(null),o=e?((r=i.current)==null?void 0:r.scrollHeight)??0:0,f=n;return s.jsx(f,{ref:i,className:`transition-all overflow-hidden ${a||""}`,style:{height:o},children:l})},R=({item:e,linkClassName:l,subMenuClassNames:a,activeMenuItems:n,toggleMenu:i})=>{const[o,f]=d.useState(n.includes(e.key));d.useEffect(()=>{f(n.includes(e.key))},[n,e]);const r=()=>{const t=!o;return f(t),i&&i(e,t),!1};return s.jsxs("li",{className:`menu-item ${o?"menuitem-active":""}`,children:[s.jsxs(L,{to:"#",className:`${l} ${n.includes(e.key)?"open":""}`,"aria-expanded":o,"data-menu-key":e.key,onClick:r,children:[e.icon&&s.jsx("span",{className:"menu-icon",children:s.jsx("i",{className:e.icon})}),s.jsxs("span",{className:"menu-text",children:[" ",e.label]}),e.badge?s.jsx("span",{className:`badge ${e.badge.variant}`,children:e.badge.text}):s.jsx("span",{className:"menu-arrow"})]}),s.jsx(D,{open:o,as:"ul",classNames:a+" sub-menu",children:(e.children||[]).map((t,j)=>s.jsx(b.Fragment,{children:t.children?s.jsx(R,{item:t,linkClassName:n.includes(t.key)?"active":"",activeMenuItems:n,subMenuClassNames:"sub-menu",toggleMenu:i}):s.jsx(S,{item:t,className:n.includes(t.key)?"menuitem-active":"",linkClassName:n.includes(t.key)?"active":""})},j))})]})},S=({item:e,className:l,linkClassName:a})=>s.jsx("li",{className:`menu-item ${l}`,children:s.jsx(V,{item:e,className:a})}),V=({item:e,className:l})=>s.jsxs(L,{to:e.url,target:e.target,className:`menu-link side-nav-link-ref ${l}`,"data-menu-key":e.key,children:[e.icon&&s.jsx("span",{className:"menu-icon",children:s.jsx("i",{className:e.icon})}),s.jsxs("span",{className:"menu-text",children:[" ",e.label]}),e.badge&&s.jsx("span",{className:`badge ${e.badge.variant}`,children:e.badge.text})]}),Y=({menuItems:e})=>{const l=U(),a=d.useRef(null),[n,i]=d.useState([]),o=(r,t)=>{t&&i([r.key,...y(e,r)])},f=d.useCallback(()=>{var j;const r=document.getElementById("main-side-menu");let t=null;if(r){const g=r.getElementsByClassName("side-nav-link-ref");for(let x=0;x<g.length;++x){let m=(j=l==null?void 0:l.pathname)==null?void 0:j.replaceAll({}.PUBLIC_URL||"","");const h=g[x].pathname;if(m==={}.PUBLIC_URL+"/"&&(m+="ecommerce"),m===(h==null?void 0:h.replaceAll({}.PUBLIC_URL,""))){t=g[x];break}}if(t){const x=t.getAttribute("data-menu-key"),m=T(e,x);m&&i([m.key,...y(e,m)]),setTimeout(function(){const c=t;if(c!=null){const p=document.querySelector("#leftside-menu-container .simplebar-content-wrapper"),u=c.offsetTop-300;p&&u>100&&M(p,u,600)}},200);const h=(c,p,u,k)=>(c/=k/2,c<1?u/2*c*c+p:(c--,-u/2*(c*(c-2)-1)+p)),M=(c,p,u)=>{const k=c.scrollTop,_=p-k,C=20;let N=0;const v=function(){N+=C;const A=h(N,k,_,u);c.scrollTop=A,N<u&&setTimeout(v,C)};v()}}}},[l,e]);return d.useEffect(()=>{f()},[]),s.jsx(s.Fragment,{children:s.jsx("ul",{className:"menu",ref:a,id:"main-side-menu",children:(e||[]).map((r,t)=>s.jsx(b.Fragment,{children:r.isTitle?s.jsx("li",{className:"menu-title",children:r.label}):s.jsx(s.Fragment,{children:r.children?s.jsx(R,{item:r,toggleMenu:o,subMenuClassNames:"",activeMenuItems:n,linkClassName:"menu-link"}):s.jsx(S,{item:r,linkClassName:"menu-link",className:n.includes(r.key)?"menuitem-active":""})})},t))})})},q=()=>s.jsx(s.Fragment,{children:s.jsx(Y,{menuItems:O()})}),X=({hideLogo:e})=>{const l=F(),{sideBarType:a}=$(o=>({sideBarType:o.Layout.sideBarType})),n=d.useRef(null),i=()=>{a==="hover"?l(B(E.LEFT_SIDEBAR_TYPE_HOVERACTIVE)):a==="hover-active"&&l(B(E.LEFT_SIDEBAR_TYPE_HOVER))};return s.jsx(b.Fragment,{children:s.jsxs("div",{className:"app-menu",ref:n,children:[!e&&s.jsx(w,{}),s.jsxs("button",{id:"button-hover-toggle",className:"absolute top-5 end-2 rounded-full p-1.5 z-50",onClick:i,children:[s.jsx("span",{className:"sr-only",children:"Menu Toggle Button"}),s.jsx("i",{className:"ri-checkbox-blank-circle-line text-xl"})]}),s.jsx(P,{className:"scrollbar",children:s.jsx(q,{})})]})})};export{X as default};
