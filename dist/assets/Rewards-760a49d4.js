import{u as c,b as p,r as h,s as u,j as s}from"./index-f6f8d119.js";import{s as f,G as m}from"./gridjs.production.es.min-3f15deba.js";import{h as r}from"./moment-fbc5633a.js";const e={PENDING:"pending",ACTIVE:"active",REFUNDED:"refunded",ROLLBACK:"rollback",WITHDRAW:"withdraw",PENDING_APPROVAL:"pending_approval"},g={[e.PENDING]:"bg-yellow-500 text-white",[e.ACTIVE]:"bg-green-500 text-white",[e.REFUNDED]:"bg-blue-500 text-white",[e.ROLLBACK]:"bg-orange-500 text-white",[e.WITHDRAW]:"bg-purple-500 text-white",[e.PENDING_APPROVAL]:"bg-amber-500 text-white"},A=()=>{const d=c(),{allRewards:o,loading:b,error:D}=p(t=>t.Rewards);h.useEffect(()=>{d({type:u.GET_REWARDS})},[d]);const x=(o==null?void 0:o.map(t=>{const a=t.meta.details?t.meta.details.transaction_category==="hotel"?`${r(t.meta.details.start_date).format("DD MMM YYYY")} - ${r(t.meta.details.end_date).format("DD MMM YYYY")}`:r(t.meta.details.date_of_action).format("DD MMM YYYY"):"";return[{booking_code:t.booking_code,name:t.meta.details.name,date:a},`$${t.amount?t.amount/100:0}`,(t==null?void 0:t.coins)/100||0,t.status]}))||[];return s.jsx("div",{children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h4",{className:"card-title",children:"Rewards"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-400 mb-4",children:"List of registered rewards and their details."}),s.jsx(f,{search:!0,sort:!0,data:x,columns:[{name:"Booking",formatter:t=>{const a=(t==null?void 0:t.booking_code)||"",i=(t==null?void 0:t.name)||"",n=(t==null?void 0:t.date)||"";return m(`
											<div class="flex flex-col">
												<span class="text-sm font-semibold text-slate-800">${i}</span>
												<span class="text-xs text-slate-500">${a}</span>
												<span class="text-xs text-slate-400">${n}</span>
											</div>
										`)}},"Spends","Coins",{name:"Status",formatter:t=>{const a=(t==null?void 0:t.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "))||"Unknown",i=g[t]||"bg-gray-400 text-white";return m(`<span class="px-3 py-1 rounded-full text-xs font-medium ${i}">
											${a}
										</span>`)}}],height:"100%",fixedHeader:!0,pagination:{enabled:!0,limit:10}})]})]})})};export{A as default};
